<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ECOSApp.Mobile.VotacionPage"
             Title="Votar"
             BackgroundColor="#F7FAFC">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="25">

            <Border BackgroundColor="White" 
                    StrokeShape="RoundRectangle 16" 
                    StrokeThickness="0"
                    Shadow="{x:StaticResource DefaultShadow}"
                    Padding="25">
                <VerticalStackLayout Spacing="15">
                    
                    <Label Text="ðŸ—³ï¸" 
                           FontSize="50" 
                           HorizontalOptions="Center"/>
                    
                    <Label Text="Sistema de VotaciÃ³n" 
                           FontSize="24" 
                           FontAttributes="Bold"
                           TextColor="#2D3748"
                           HorizontalOptions="Center"/>

                    <Label x:Name="NombreEquipoLabel"
                           FontSize="18" 
                           TextColor="#667EEA"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>

                </VerticalStackLayout>
            </Border>

            <Border BackgroundColor="White" 
                    StrokeShape="RoundRectangle 16" 
                    StrokeThickness="0"
                    Shadow="{x:StaticResource DefaultShadow}"
                    Padding="20">
                <VerticalStackLayout Spacing="15">
                    
                    <Label Text="ðŸ” Clave de Juez" 
                           FontSize="18" 
                           FontAttributes="Bold"
                           TextColor="#2D3748"/>

                    <Label Text="Solo los jueces pueden votar. Ingresa la clave proporcionada." 
                           FontSize="14" 
                           TextColor="#718096"
                           LineHeight="1.4"/>

                    <Entry x:Name="ClaveEntry"
                           Placeholder="Ingresa la clave"
                           IsPassword="True"
                           FontSize="16"
                           BackgroundColor="#F7FAFC"
                           TextColor="#2D3748"
                           PlaceholderColor="#A0AEC0"
                           HeightRequest="50"
                           TextChanged="OnClaveChanged"/>

                    <Label x:Name="ClaveErrorLabel"
                           Text="Clave incorrecta"
                           TextColor="#E53E3E"
                           FontSize="13"
                           IsVisible="False"
                           Margin="0,-10,0,0"/>

                </VerticalStackLayout>
            </Border>

            <Border x:Name="JuezFrame"
                    BackgroundColor="White" 
                    StrokeShape="RoundRectangle 16" 
                    StrokeThickness="0"
                    Shadow="{x:StaticResource DefaultShadow}"
                    Padding="20"
                    IsVisible="False">
                <VerticalStackLayout Spacing="15">
                    
                    <Label Text="ðŸ‘¤ IdentifÃ­cate como Juez" 
                           FontSize="18" 
                           FontAttributes="Bold"
                           TextColor="#2D3748"/>

                    <Picker x:Name="JuezPicker"
                            Title="-- Selecciona tu nombre --"
                            FontSize="16"
                            TextColor="#4A5568"
                            BackgroundColor="#F7FAFC"
                            SelectedIndexChanged="OnJuezSeleccionado"/>

                </VerticalStackLayout>
            </Border>

            <Border x:Name="CalificacionFrame"
                    BackgroundColor="White" 
                    StrokeShape="RoundRectangle 16" 
                    StrokeThickness="0"
                    Shadow="{x:StaticResource DefaultShadow}"
                    Padding="20"
                    IsVisible="False">
                <VerticalStackLayout Spacing="20">
                    
                    <Label Text="â­ CalificaciÃ³n" 
                           FontSize="18" 
                           FontAttributes="Bold"
                           TextColor="#2D3748"
                           HorizontalOptions="Center"/>

                    <Label Text="Selecciona una puntuaciÃ³n de 1 a 5 estrellas" 
                           FontSize="14" 
                           TextColor="#718096"
                           HorizontalOptions="Center"/>

                    <HorizontalStackLayout x:Name="EstrellasLayout"
                                           Spacing="10"
                                           HorizontalOptions="Center">
                        </HorizontalStackLayout>

                    <Label x:Name="CalificacionTexto"
                           FontSize="16" 
                           FontAttributes="Bold"
                           TextColor="#667EEA"
                           HorizontalOptions="Center"/>

                </VerticalStackLayout>
            </Border>

            <Button x:Name="BtnEnviarVoto"
                    Text="Enviar Voto"
                    BackgroundColor="#667EEA"
                    TextColor="White"
                    FontSize="18"
                    FontAttributes="Bold"
                    CornerRadius="15"
                    HeightRequest="60"
                    IsEnabled="False"
                    Clicked="OnEnviarVotoClicked"/>

            <ActivityIndicator x:Name="LoadingIndicator"
                             IsRunning="False"
                             IsVisible="False"
                             Color="#667EEA"
                             HeightRequest="50"/>

            <Border BackgroundColor="#FEF3C7" 
                    StrokeShape="RoundRectangle 12" 
                    StrokeThickness="0"
                    Padding="15">
                <HorizontalStackLayout Spacing="10">
                    <Label Text="âš ï¸" 
                           FontSize="20"
                           VerticalOptions="Center"/>
                    <Label Text="Solo puedes votar una vez por equipo. AsegÃºrate de tu decisiÃ³n antes de enviar." 
                           FontSize="13" 
                           TextColor="#92400E"
                           LineHeight="1.4"
                           VerticalOptions="Center"/>
                </HorizontalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>